# MMD 测试路由 - 快速开始

## 🚀 快速访问

### 开发环境
```bash
# 1. 启动开发服务器
pnpm dev

# 2. 访问测试页面
http://localhost:3000/testField/mmdTest
```

### 从实验田入口访问
1. 访问 `http://localhost:3000/testField`
2. 搜索 "MMD 功能测试"
3. 点击进入测试页面

---

## 📖 功能说明

### 1. **基础测试模式**
测试 MMD 核心功能：
- ✅ Three.js 场景初始化
- ✅ 基础光照和材质
- ✅ 相机和控制器
- ✅ 地面网格

**使用方法**: 点击顶部 "基础测试" 按钮

### 2. **动画测试模式**
测试动画播放功能：
- ✅ VMD 动作加载
- ✅ 动画播放控制
- ✅ 音频同步
- ✅ 物理引擎

**使用方法**: 点击顶部 "动画测试" 按钮

### 3. **相机测试模式**
测试相机控制功能：
- ✅ 虚拟摇杆
- ✅ 缩放控制
- ✅ 升降控制
- ✅ 视角重置

**使用方法**: 点击顶部 "相机测试" 按钮

### 4. **Hooks 测试模式**
测试 React Hooks：
- ✅ useMMDLoader
- ✅ useMMDAnimation
- ✅ useMMDCamera

**使用方法**: 点击顶部 "Hooks 测试" 按钮

---

## 🎮 交互说明

### 鼠标控制
- **左键拖拽**: 旋转视角
- **滚轮**: 缩放视角
- **右键拖拽**: 平移视角

### 键盘控制
- **↑ ↓ ← →**: 控制视角方向
- **+ -**: 缩放
- **Space**: 重置视角

---

## 🔧 开发说明

### 文件结构
```
mmdTest/
├── layout.tsx              # 页面布局
├── page.tsx                # 主页面组件
├── components/
│   └── MMDTestViewer.tsx   # MMD 测试查看器
├── README.md               # 详细文档
└── QUICK_START.md         # 本文档
```

### 核心技术
- **Three.js**: 3D 渲染引擎
- **MMDLoader**: MMD 模型加载器
- **MMDAnimationHelper**: MMD 动画辅助工具
- **OrbitControls**: 相机控制器

### 添加测试用例

在 `MMDTestViewer.tsx` 中添加新的测试逻辑：

```typescript
useEffect(() => {
  switch (testMode) {
    case 'basic':
      // 添加基础测试逻辑
      break
    case 'animation':
      // 添加动画测试逻辑
      break
    case 'camera':
      // 添加相机测试逻辑
      break
    case 'hooks':
      // 添加 Hooks 测试逻辑
      break
  }
}, [testMode])
```

---

## 📊 测试检查表

### 场景初始化
- [ ] 场景创建成功
- [ ] 相机位置正确
- [ ] 光照效果正常
- [ ] 地面网格显示
- [ ] 控制器响应

### 模型加载
- [ ] 模型文件加载
- [ ] 纹理显示正确
- [ ] 材质渲染正常
- [ ] 骨骼结构完整

### 动画播放
- [ ] 动画加载成功
- [ ] 播放流畅
- [ ] 音频同步
- [ ] 物理效果正常

### 相机控制
- [ ] 鼠标控制有效
- [ ] 键盘控制有效
- [ ] 虚拟摇杆响应
- [ ] 重置功能正常

---

## 🐛 常见问题

### Q: 页面无法加载？
**A**: 检查开发服务器是否正常启动，确认端口 3000 没有被占用。

### Q: 3D 场景是黑屏？
**A**: 可能是浏览器不支持 WebGL，尝试更新浏览器或切换浏览器。

### Q: 性能很卡顿？
**A**: 检查电脑性能，尝试关闭其他程序，或降低渲染质量。

### Q: 模型加载失败？
**A**: 检查模型文件路径是否正确，文件格式是否支持。

---

## 📞 技术支持

遇到问题？
1. 查看 [README.md](./README.md) 详细文档
2. 查看 [SA2Kit 文档](../../../../sa2kit/README.md)
3. 查看浏览器控制台错误信息
4. 检查 Network 标签确认资源加载状态

---

## 🔗 相关链接

- [Three.js 官方文档](https://threejs.org/)
- [MMD 格式说明](https://mikumikudance.fandom.com/)
- [项目主 README](../../../../README.md)

---

**创建日期**: 2025-11-15  
**最后更新**: 2025-11-15  
**版本**: 1.0.0

