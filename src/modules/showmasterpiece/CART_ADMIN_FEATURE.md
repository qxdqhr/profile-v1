# 购物车管理功能

## 功能概述

购物车管理功能允许管理员查看和管理所有用户的购物车数据，包括：
- 查看所有用户的购物车列表
- 购物车统计信息
- 购物车详情查看
- 状态筛选和搜索

## 访问方式

### 1. 通过实验田模块访问
访问路径：`/testField/ShowMasterPieces/config`

### 2. 需要管理员权限
- 该功能需要管理员账号登录
- 使用 `AuthGuard` 组件进行权限控制

## 功能特性

### 统计面板
- **总购物车数**：系统中所有购物车的总数
- **活跃购物车**：状态为活跃且未过期的购物车
- **已转换**：已完成预订的购物车
- **已放弃**：用户放弃的购物车
- **已过期**：超过有效期的购物车
- **总商品数量**：所有购物车中商品的总数量

### 筛选功能
- **全部**：显示所有购物车
- **活跃**：只显示活跃状态的购物车
- **已转换**：只显示已转换状态的购物车
- **已放弃**：只显示已放弃状态的购物车

### 购物车列表
每个购物车卡片显示：
- 用户信息（姓名、手机号）
- 购物车状态和ID
- 商品数量、总数量、总价格
- 商品预览（最多显示3个）
- 创建和更新时间
- 查看详情按钮

### 详情弹窗
点击"查看详情"可以查看：
- 完整的用户信息
- 购物车详细信息
- 完整的商品列表

## 技术实现

### 前端组件
- `CartAdminPanel`：主要的购物车管理面板组件
- `useCartAdmin`：购物车管理相关的状态管理Hook
- `CartAdminService`：购物车管理API调用服务

### 后端API
- `GET /api/showmasterpiece/cart/admin`：获取所有购物车数据

### 数据库表
- `comic_universe_carts`：购物车主表
- `comic_universe_cart_items`：购物车商品表
- 关联表：`users`、`comic_universe_collections`

## 使用流程

1. **登录管理员账号**
2. **访问配置页面**：`/testField/ShowMasterPieces/config`
3. **切换到购物车管理标签页**
4. **查看统计信息**：了解整体购物车使用情况
5. **使用筛选功能**：根据需要筛选特定状态的购物车
6. **查看详情**：点击购物车卡片上的"查看详情"按钮
7. **刷新数据**：使用刷新按钮获取最新数据

## 权限控制

- 只有管理员账号可以访问此功能
- 使用 `AuthGuard` 组件进行权限验证
- 未登录或非管理员用户会被重定向到登录页面

## 数据安全

- 所有API调用都需要管理员权限
- 数据通过HTTPS传输
- 敏感信息（如用户手机号）在显示时会进行适当处理

## 响应式设计

- 支持桌面端和移动端
- 自适应布局
- 触摸友好的交互设计

## 错误处理

- 网络错误提示
- 数据加载失败处理
- 用户友好的错误信息显示

## 性能优化

- 分页加载（如果需要）
- 数据缓存
- 按需加载详情数据 